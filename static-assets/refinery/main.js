"use strict";!function(e,t,a){var n={clickEvent:e.touch?"touchStart":"click",resolutions:{xs:320,sm:576,md:768,lg:992,xl:1200},currentResolution:function(){return t(".helpers .helper:visible").attr("class").split(" ").map(function(e){return"helper"!==e})||"xs"}},i={getUrlParameter:function(a){var n="";return decodeURIComponent(e.location.search.substring(1)).split("&").forEach(function(e){var i=e.split("=");n=i[0]===a?t.trim(i[1]||""):""}),n},getPath:function(){return e.location.pathname||""},isCurrentPath:function(e){return String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),!!i.getPath().includes(e)}},o={timerSubmenu:null,timeoutSubmenu:1e3,timeoutSlideOpen:null,timerSlideOpen:400,init:function(){t(".nav-item.submenu").each(function(){var e=t(this),a=t(e.data("submenu"));t("ul",a).clone().appendTo(e)}),t(".header-primary .hover-slide-open").on("mouseenter",function(e){t(this).addClass("in"),clearTimeout(o.timeoutSlideOpen)}).on("mouseleave",function(e){var a=t(this);o.timeoutSlideOpen=setTimeout(function(e){e.removeClass("in")},o.timerSlideOpen,a)}),t(".header-primary .submenu .submenu-toggle").click(function(e){var a=t(this);e.stopPropagation(),e.preventDefault(),a.parent().toggleClass("on")}),t(".toggle-on-change").each(function(){t(this).on("change",function(e){e.preventDefault(),e.stopPropagation();var a="#"+t(this).val();t(a).collapse("show").siblings(".location-group").collapse("hide")})}),t('a[href*="#"]:not([role="tab"]):not(.acknowledge):not(.load-more-data):not(.retry)').on(n.clickEvent,function(e){var a=t(this).attr("href"),n="#"+a.split("#")[1]||"";n.length<=1||i.isCurrentPath(a.split("#")[0])&&(e.stopPropagation(),e.preventDefault(),o.scrollToAnchor(n))}),t(".touch .events").on("click","figure",function(e){var a=t(this);a.is(".on")?a.removeClass("on"):(a.addClass("on"),e.preventDefault(),e.stopPropagation())}),t(".load-more-data").each(function(){var e=t(this);t(e.attr("href")),parseInt(e.data("max"),10);1===parseInt(e.data("total-page"),10)?e.hide():e.on(n.clickEvent,function(e){e.preventDefault();var a=t(this),n=t(a.attr("href")),i=a.data("api")||"",o=parseInt(a.data("max"),10)||9,r=parseInt(a.data("page"),10),l=parseInt(a.data("totalPage"),10);""===i||r>=l||(r+=1,a.addClass("d-none").next(".fa").removeClass("d-none"),t.ajax({url:i,method:a.data("method")||"GET",data:{page:r,maxItem:o},dataType:a.data("type")||"json"}).done(function(e){for(var t,i=e.data,s=parseInt(e.page,10)||r,A=parseInt(e.totalPage,10)||l,c="",u="",p=0;p<i.length&&p<o;p++)t=i[p],""!==t.url&&(u='<a class="view-more" href="'+t.url+'"'+(t.newWin?' target="_blank"':"")+'>"'+(""!==t.linkText?t.linkText:t.title)+'"</a>'),c+='<div class="col-12 col-sm-12 col-md-6 col-lg-4"><figure class="'+t.cat+'"><div class="lazy-wrap" data-ratio="1x1"><img src="" alt="" class="img-fluid lazyload" data-src="'+t.img+'"></div><figcaption><div class="article text-center d-flex flex-column justify-content-center align-items-center"><div class="date">'+t.date+'</div><div class="title">'+t.title+"</div></div>"+u+"</figcaption></figure></div>";n.append(c),d.init(),a.data("page",s).data("total-page",A).removeClass("d-none").next(".fa").addClass("d-none"),r===l&&a.addClass("no-more").hide()}).always(function(){setTimeout(function(){try{a.is(".no-more")?a.remove():a.is(".d-none")&&a.removeClass("d-none").next(".fa").addClass("d-none")}catch(e){}},800)}))})}),t(".retry").on(n.clickEvent,function(e){e.preventDefault();var a=t(this),n=t(a.data("form")),i=t(a.data("feedback"));n.show(),i.hide()}),"true"!==A.get("acknowledgement")&&(t("#cookies-usage").addClass("needed").prependTo(t(".header")),t("a.acknowledge").on(n.clickEvent,function(e){e.preventDefault(),e.stopPropagation(),t(t(this).attr("href")).removeClass("needed").remove(),A.set("acknowledgement","true",365)})),t('[data-toggle="popover"]').each(function(e){var a=t(this),n=t(a.data("el"));a.popover({container:"body",placement:function(){var e="right";return(t(".helpers .xs").is(":visible")||t(".helpers .sm").is(":visible")||t(".helpers .md").is(":visible"))&&(e="bottom"),e},title:t(".t",n).html(),content:t(".c",n),template:'<div class="popover popover-help" role="tooltip"><div class="arrow"></div><h4 class="popover-header"></h4><div class="popover-body"></div></div>'})}),t('[data-dismiss="modal"]').on(n.clickEvent,function(e){e.preventDefault(),t(e.target).parents(".modal").modal("hide")}),t('.modal--welcome [data-dismiss="modal"]').on(n.clickEvent,function(e){e.preventDefault(),A.set("refinerydarksite","true",1)}),t(".nav-link--signout").on(n.clickEvent,function(){"true"==A.get("refinerydarksite")&&A.set("refinerydarksite","false",1)}),"true"!==A.get("refinerydarksite")&&t("#darksiteModal").length>0&&t("#darksiteModal").modal("show"),t(document).on(n.clickEvent,function(e){t(".navbar-collapse.collapse").is(".show")&&1!==t(e.target).parents(".header").length&&t(".navbar-toggler").click()}),""!==e.location.hash&&o.scrollToAnchor(e.location.hash)},scrollToAnchor:function(e){if(!(e.length<=1)){var a=t(".header");a.hasClass("mini")||a.addClass("mini fixed-top"),"false"!==t(".navbar-toggler").attr("aria-expanded")?(t("#navbarsPrimary").data("scroll-to",e),t("#navbarsPrimary").on("hidden.bs.collapse",function(e){var a=t(e.target).data("scroll-to")||"";o.scrollToId(a,function(){t("#navbarsPrimary").off("hidden.bs.collapse").removeData("scroll-to")})}),t("#navbarsPrimary").collapse("hide")):o.scrollToId(e)}},scrollToId:function(a,n){var i=t(a).offset(),o=t(".header"),r=i.top-o.outerHeight(!0);o.hasClass("mini")&&0===parseInt(t("#content").css("padding-top"),10)&&(r+=o.outerHeight(!0)),t("html, body").animate({scrollTop:r},500,function(){}),"function"==typeof n&&n(),e.location.hash!==a&&(history.pushState?history.pushState(null,null,a):location.hash=a)}},r={options:{default:{pagination:{el:".swiper-pagination",clickable:!0},slidesPerView:1,slidesPerGroup:1,spaceBetween:0,grabCursor:!0,loop:!0,navigation:{nextEl:".button-next",prevEl:".button-prev"},preloadImages:!1,lazy:!0,loadPrevNext:!0},inpage:{pagination:{el:".swiper-pagination",clickable:!0},slidesPerView:1,slidesPerGroup:1,spaceBetween:0,grabCursor:!0,loop:!0,navigation:{nextEl:".button-next",prevEl:".button-prev"},preloadImages:!1,lazy:!0,loadPrevNext:!0},fix3:{pagination:{el:".swiper-pagination",clickable:!0},slidesPerView:3,slidesPerGroup:3,spaceBetween:10,grabCursor:!0,navigation:{nextEl:".button-next",prevEl:".button-prev"},loop:!0,simulateTouch:!1,preloadImages:!1,lazy:!0,breakpoints:{1024:{loadPrevNext:!0,slidesPerView:3,slidesPerGroup:3,spaceBetween:10},768:{loadPrevNext:!1,slidesPerView:3,slidesPerGroup:3,spaceBetween:10},568:{loadPrevNext:!1,slidesPerView:3,slidesPerGroup:3,spaceBetween:10},480:{loadPrevNext:!1,slidesPerView:1,slidesPerGroup:1,spaceBetween:10},320:{loadPrevNext:!1,slidesPerView:1,slidesPerGroup:1,spaceBetween:10}}},flex3:{pagination:{el:".swiper-pagination",clickable:!0},slidesPerView:3,slidesPerGroup:3,spaceBetween:10,simulateTouch:!1,grabCursor:!0,loop:!0,navigation:{nextEl:".button-next",prevEl:".button-prev"},lazy:!0,zoom:!0,breakpoints:{1024:{loadPrevNext:!0,slidesPerView:3,slidesPerGroup:3,spaceBetween:10},768:{loadPrevNext:!1,slidesPerView:3,slidesPerGroup:3,spaceBetween:10},568:{loadPrevNext:!1,slidesPerView:3,slidesPerGroup:3,spaceBetween:10},480:{loadPrevNext:!1,slidesPerView:2,slidesPerGroup:2,spaceBetween:10},320:{loadPrevNext:!1,slidesPerView:1,slidesPerGroup:1,spaceBetween:10}}}},sliders:[],init:function(){t(".swiper-container").each(function(e){var n=t(this),i=n.data("sliders")||"default",o=t(".swiper-slide",n).length>1,l={loop:o,grabCursor:o,simulateTouch:o,draggable:o,navigation:{nextEl:t(".button-next",n),prevEl:t(".button-prev",n)}},s=function(e,t){var a={};if("function"==typeof Object.assign)a=Object.assign({},e,t);else{for(var n in e)a[n]=e[n];for(var i in t)a[i]=t[i]}return a}(r.options[i],l);o||(s.pagination={el:null,clickable:!1});var d=new a(n.get(0),s);n.data("swiper-"+e),r.sliders.push({idx:e,swiper:d})})}},l={init:function(){t("#content").waypoint({handler:function(e){var a=t(".header"),n=t("#content");if("down"===e){var i=a.outerHeight(!0);n.css("padding-top",i+n.scrollTop()+"px"),a.addClass("mini fixed-top")}else"up"===e&&(a.removeClass("mini fixed-top"),n.css("padding-top","0"))},offset:function(){return t(".header").is(".mini")?-t(".header").outerHeight(!0)/2:t(".header").outerHeight(!0)/2}})}},s={init:function(){if(e.formHandler=this,t(".form-captcha,.reservation-form,.js-form").each(function(){var e=t(this);t(".checkout",e).on(n.clickEvent,function(a){t(this);a.preventDefault(),a.stopPropagation();var n=t(e.data("confirmation"));return 1===n.length&&s.validate(e)?(e.removeClass("invalid"),n.modal("show"),n.find(".btn-checkout-submit").prop("disabled",!1)):(e.addClass("invalid"),n.find(".btn-checkout-submit").prop("disabled",!0)),!1}),t(".btn-checkout-submit").each(function(){var e=t(this);t(this).on(n.clickEvent,function(a){if(!e.prop("disabled")){e.siblings(".btn").prop("disabled",!0),e.prop("disabled",!0);var n=t('form[data-form="'+e.data("master-form")+'"]'),i=n.attr("action")||"",o=n.serialize()+"&"+t.param({cart:cartHandler.cart,total:t(".total-price",n).text()});if(i){var r=t(n.data("feedback")),l=t(".modal-title",r),d=t(".modal-body",r);t(n.data("form"));t(n.data("confirmation")).modal("hide"),t("body").addClass("loading-api"),t.ajax({url:i,method:n.attr("method")||"GET",data:o,dataType:n.data("type")||"json"}).done(function(e){t("body").removeClass("loading-api"),l.html(e.title),d.html(e.message),r.modal("show"),cartHandler.clear(),s.reset(n)}).fail(function(e){t("body").removeClass("loading-api"),l.html(l.data("default-txt")),d.html(d.data("default-txt")),r.modal("show")})}e.siblings(".btn").prop("disabled",!1)}})}),t('button[data-toggle="modal"]',e).on(n.clickEvent,function(e){e.preventDefault()}),e.submit(function(a){var n=!0,i=t("#g-recaptcha-response").val()||"";if(s.validate(e)||(a.preventDefault(),a.stopPropagation(),n=!1),1===t(".g-recaptcha",e).length&&""===i&&(a.preventDefault(),a.stopPropagation(),t(".g-recaptcha",e).addClass("invalid"),t(".rc-anchor-light.rc-anchor-normal").addClass("invalid"),n=!1),!1===e.get(0).checkValidity()&&(a.preventDefault(),a.stopPropagation(),n=!1),n){if(e.data("ajax")){var o=e.attr("action")||"",r=e.serialize();if(o){var l=t(e.data("success")),d=t(e.data("fail")),A=t(e.data("form")),c=t(e.data("feedback")),u=t(".modal-title",c),p=t(".modal-body",c);t.ajax({url:o,method:e.attr("method")||"GET",data:r,dataType:e.data("type")||"json"}).done(function(e){e.data?(l.show(),d.hide(),A.hide()):(d.show(),l.hide(),A.hide()),1===c.legnth&&(c.show(),u.html(e.title),p.html(e.message))}).fail(function(e){d.show(),l.hide(),A.hide(),1===c.legnth&&(c.show(),u.html(results.title),p.html(results.message))})}return!1}}else e.addClass("invalid"),t(":input.invalid",e).first().focus();return n})}),t("#enquiry").length){var a=t("#enquiry"),o=i.getUrlParameter("enquiry");""!==o&&1===t('#enquiry option[value="'+o+'"]').length&&a.val(o)}},validate:function(e){var a=!0;if(t(".invalid",e).removeClass("invalid"),t(".error-mesg[data-invalid-fn]",e).addClass("d-none"),e.removeClass("invalid"),t(":input[data-valid]:visible",e).each(function(e){var n=t(this),i=String(""+n.val()||"");a=n.data("valid").split(";").reduce(function(e,a){if(""===t.trim(a)||"function"!=typeof s[a])return!0;var o=!1;switch(a){case"isChecked":o=s[a](n.attr("name"));break;case"minlen":o=s[a](i,parseInt(n.attr("minlength"),10));break;case"maxlen":o=s[a](i,parseInt(n.attr("maxlength"),10));break;case"isEqual":o=s[a](i,t(n.data("valid-is-equal")).val());break;case"isDifferent":o=s[a](i,t(n.data("valid-is-different")).val());break;case"isSelected":o=s[a](i,n[0].selectedIndex);break;default:o=s[a](i)}return o||(n.addClass("invalid"),t('[data-invalid-fn="'+a+'"]').removeClass("d-none"),t('label[for="'+(n.attr("id")||"")+'"]').addClass("invalid"),n.parent().is(".select-arrow")&&n.parent().addClass("invalid"),n.siblings().is(".input-group-append")&&n.siblings(".input-group-append").addClass("invalid")),e&&o},a)}),!a){e.addClass("invalid");var n=t(".error-mesg",e);n.filter(":visible").length>0?n.filter(":visible:gt(0)").addClass("d-none"):n.last().removeClass("d-none")}return a},isFilled:function(e){return""!==t.trim(e)},isPhone:function(e){return""!==t.trim(e)&&/^[23456789][0-9]{7}$/.test(t.trim(e))},isOptPhone:function(e){return""===t.trim(e)||this.isPhone(e)},maxlen:function(e,t){return e.length<=t},minlen:function(e,t){return e.length>=t},isChecked:function(e){var a=!1;return t('input[name="'+e+'"]').each(function(){a=a||t(this).is(":checked")}),a},isSelected:function(e,a){return""!==t.trim(e)&&a>=0},isEmail:function(e){return""!==t.trim(e)&&/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+(?:[a-z]{2,})\b$/.test(t.trim(e.toLowerCase()))},isOptEmail:function(e){return""===t.trim(e)||this.isEmail(e)},hasDigit:function(e){return/^(.*[0-9].*)$/.test(t.trim(e))},isEqual:function(e,a){return""!==t.trim(e)&&t.trim(e)===t.trim(a)},isDifferent:function(e,a){return""!==t.trim(e)&&t.trim(e)!==t.trim(a)},hasMixedCase:function(e){var a=/^(.*[a-z].*)$/,n=/^(.*[A-Z].*)$/;return a.test(t.trim(e))&&n.test(t.trim(e))},isDate:function(e){return moment(e,"DD/MM/YYYY").isValid()},reset:function(e){e.get(0).reset()},ajax:function(e,a,n){if(t("body").addClass("loading-api"),""===e.api||"undefined"===e.api)return!1;var i=t(e.form),o=t(i.data("feedback")),r=t(".modal-title",o),l=t(".modal-body",o);t(i.data("confirmation")).modal("hide"),t.ajax({url:e.api,method:e.method,data:e.data,dataType:e.dataType}).done(function(a){t("body").removeClass("loading-api"),r.html(a.title),l.html(a.message),o.modal("show"),a.data?"function"==typeof e.doneCallback&&e.doneCallback(a):"function"==typeof e.failCallback&&e.failCallback(a)}).fail(function(a){t("body").removeClass("loading-api"),r.html(r.data("default-txt")),l.html(l.data("default-txt")),o.modal("show"),"function"==typeof e.failCallback&&e.failCallback(a)})}},d={lazyLoadOptions:{imgs:{transparent1x1:"iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",transparent3x1:"iVBORw0KGgoAAAANSUhEUgAAAAwAAAAECAQAAAAQLxYBAAAAD0lEQVR42mNkwAEYqScBAAFeAAWa2iPnAAAAAElFTkSuQmCC",transparent4x5:"iVBORw0KGgoAAAANSUhEUgAAACgAAAAyCAQAAACEulEbAAAAKElEQVR42u3MMQEAAAwCoNm/9EroBwHIlUUoFAqFQqFQKBQKhULhPnyjTAAzC6GY+AAAAABJRU5ErkJggg==",transparent12x5:"iVBORw0KGgoAAAANSUhEUgAAAAwAAAAFCAQAAADbc8WkAAAAD0lEQVR42mNkwAEY6SABAAH0AAY7BlaIAAAAAElFTkSuQmCC",transparent16x6:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAGCAQAAABgddZsAAAAD0lEQVR42mNkIAAYh4ICAAN7AAdXVzjRAAAAAElFTkSuQmCC",transparent16x8:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAICAQAAABaf7ccAAAAD0lEQVR42mNkIAAYR4YCAAWsAAmTqwqbAAAAAElFTkSuQmCC",transparent16x9:"iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAQAAACRI2S5AAAAEElEQVR42mNkIAAYRxWAAQAG9gAKqv6+AwAAAABJRU5ErkJggg==",transparent35x41:"iVBORw0KGgoAAAANSUhEUgAAACMAAAApCAQAAAAVS1i0AAAAI0lEQVR42u3MIQEAAAACIP1/2hNGGEBzUY1Go9FoNBqNRpMB+ioAKuXs+g0AAAAASUVORK5CYII=",transparent38x26:"iVBORw0KGgoAAAANSUhEUgAAACYAAAAaCAQAAABxjObzAAAAH0lEQVR42mNkoCJgHDVs1LBRw0YNGzVs1LBRwwbGMABxZQAbjJtxwwAAAABJRU5ErkJggg==",transparent50x20:"iVBORw0KGgoAAAANSUhEUgAAADIAAAAUCAQAAABlw6YRAAAAH0lEQVR42mNkoANgHLVk1JJRS0YtGbVk1JJRS+htCQBavgAVu+xG5gAAAABJRU5ErkJggg==",transparent111x55:"iVBORw0KGgoAAAANSUhEUgAAAG8AAAA3CAQAAACoEdxxAAAASElEQVR42u3PAQ0AAAwCoNu/9HPooAG5adHT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Or8m2wADgRRJocAAAAAElFTkSuQmCC"}},init:function(){t("img.lazyload:not(.lazy-wrap-loaded)").Lazy({threshold:350,beforeLoad:function(e){var a=t(e).parents(".lazy-wrap").data("ratio");void 0===a?(a="1x1",t(e).data("noRatio","1x1")):a=null!==a.match(/^[0-9]+x[0-9]+$/)?a:"1x1";var n="transparent"+a,i="data:image/gif;base64,"+(d.lazyLoadOptions.imgs[n]||d.lazyLoadOptions.imgs[0]);t(e).data("noRatio")&&t(e).parents(".lazy-wrap").attr("data-ratio",t(e).data("noRatio")),t(e).attr("src",i)},afterLoad:function(e){t(e).parents(".lazy-wrap").addClass("lazy-wrap-loaded"),t(e).data("noRatio")&&t(e).parents(".lazy-wrap").removeAttr("data-ratio")},onError:function(e){},onFinishedAll:function(){}}),t(".events .article").length>0&&t(".events .article").dotdotdot()}},A={set:function(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"},get:function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie),n=a.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""}};t(document).ready(function(){o.init(),r.init(),l.init(),s.init(),d.init()})}(window,jQuery,Swiper);